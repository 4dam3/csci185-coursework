var bcSfSearchSettings={search:{}};BCSfFilter.prototype.customizeSuggestion=function(e){},BCSfFilter.prototype.buildSuggestionWrapper=function(e){var t=this.class.searchSuggestionWrapper;jQ(e).parent().hasClass(t)||(jQ(e).wrap('<div class="'+t+'"></div>'),jQ("#app-search").append(jQ("."+t)))},BCSfFilter.prototype.beforeBuildSearchBox=function(e){},BCSfFilter.prototype.buildSearchBox=function(e){var t=this;if(jQ(e).length>0){var u=getParam(this.searchTermKey);jQ(e).val(u),jQ(e).autocomplete({minLength:t.getSettingValue("search.suggestionMinLength"),source:function(i,l){window.suggestionCallback=l,t.getSuggestionData(i.term,l)},classes:{"ui-autocomplete":t.class.searchSuggestion},focus:function(){return!1},open:function(i,l){t.openSuggestionEvent(e)},close:function(i,l){t.closeSuggestionEvent(e)},select:function(i,l){return!1}}).on("click",function(){t.focusSearchBoxEvent(e),console.log("click")}).addClass(t.class.searchBox).attr("data-search-box",e),jQ(e).autocomplete("instance")._renderMenu=function(i,l){i.attr("data-search-box",e);var s=encodeURIParamValue(this.term);return t.buildSuggestion(s,l,i)},jQ(e).autocomplete("instance")._resizeMenu=function(){var i=this.menu.element,l=this.element;t.buildStyleSuggestion(i,l,e)},t.clickOutsideSuggestionEvent(e),jQ(".search-close").on("click",function(i){i.stopPropagation(),i.preventDefault(),jQ(e).val(""),$(".search-suggestions-alyx").show(),jQ(".bc-sf-search-suggestion-wrapper ul").html(""),setTimeout(function(){jQ(e).focus()})}),jQ(".search-result-suggestion").on("click",function(i){i.preventDefault(),jQ(e).val($(this).text()),setTimeout(function(){jQ(e).focus(),jQ(e).click()})})}this.setSuggestionPosition(e)},BCSfFilter.prototype.buildSuggestionPopular=function(e,t,u){if(Object.keys(t).length>0){$(".search-suggestions-alyx").hide();var i=this.getSettingValue("search.suggestionPopularLimit"),l=this.getSettingValue("label.suggestion.popularHeader"),s=this.buildSuggestionHeader(l,"popular");for(var n in t)if(n<i){var c=this.highlightSuggestionResult(t[n],e);s+='<li class="'+this.class.searchSuggestionItem+'" aria-label="'+this.escape(l)+": "+this.escape(t[n])+'">',s+='<a href="'+this.buildSearchLink(t[n])+'">'+c+"</a>",s+="</li>"}return s!=null&&(s='<div class="suggestion-list-wrapper"><ul>'+s+"</ul></div>"),s}return""},BCSfFilter.prototype.buildSuggestionProductList=function(e,t,u){if(Object.keys(t).length>0){$(".search-suggestions-alyx").hide();var i=20,l=20,s=this.buildSuggestionHeader(l,"product"),n=0;for(var c in t){if(!(n<i))break;var r=t[c];if(this.getSettingValue("search.productAvailable")===!1||this.getSettingValue("search.productAvailable")&&r.available){var g=this.customizeSuggetionProductTitle(r.title,e,t);g=this.highlightSuggestionResult(g,e);var a=r.skus!==null&&r.skus.length>0?r.skus[0]:"",h=a.slice(0,2)+"-",d=a.slice(2,3)+"-",p=a.slice(3,5)+"-",v=a.length>9?a.slice(5,9)+"-":a.slice(5,9),S=a.length>9?a.slice(9,10)+"-":"",f=a.length>9?a.slice(10,a.length):"",m=h+d+p+v+S+f,b=this.buildProductItemUrl(r,!1),j=r.images_info.length>0?this.optimizeImage(r.images_info[0].src,"large"):bcSfFilterConfig.general.no_image_url,Q=r.skus!==null&&r.skus.length>0?r.skus[0]:"",o=this.class.searchSuggestion,y=this.getSettingValue("search.openProductNewTab")?'target="_blank"':"";s+='<li class="gallery-child list-num-'+c+" "+this.class.searchSuggestionItem+" "+this.class.searchSuggestionItem+'-product" aria-label="'+this.escape(l)+": "+this.escape(r.title)+'">',s+='<a class="gallery-inner-child" href="'+b+'" '+y+">",this.getSettingValue("search.showSuggestionProductImage")&&(s+='<div class="'+o+'-left"><img src="'+j+'" /></div>'),s+='<div class="'+o+'-right">',s+='<div class="'+o+'-product-title">'+g+"</div>",this.getSettingValue("search.showSuggestionProductSku")&&(s+='<div class="'+o+'-product-sku product-bardcode">'+m+"</div>"),this.getSettingValue("search.showSuggestionProductVendor")&&(s+='<div class="'+o+'-product-vendor">'+r.vendor+"</div>"),s+=this.buildSuggestionProductPrice(r),s+="</div>",s+="</a>",s+="</li>",n++}}return s='<div class="gallery"><ul class="gallery-inner">'+s+"</ul></div>",s}return""};
//# sourceMappingURL=/s/files/1/2138/3643/t/5/assets/bc-sf-search.js.map?v=91404661564388432251528930809
